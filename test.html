<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <table id="myTable">
        <tr>
          <th>Name</th>
          <th>Age</th>
          <th>Action</th>
        </tr>
        <tr>
          <td>John</td>
          <td>25</td>
          <td><button onclick="addRow()">Add</button></td>
        </tr>
      </table>

      <script>

// function addRow() {
//   let table = document.getElementById("myTable");

//   // 새로운 행을 생성합니다.
//   let newRow = table.insertRow();
//   let cell1 = newRow.insertCell();
//   let cell2 = newRow.insertCell();
//   let cell3 = newRow.insertCell();
//   cell1.innerHTML = "Jane";
//   cell2.innerHTML = "30";
//   cell3.innerHTML = '<button onclick="deleteRow(this)">Delete</button>';

//   // 새로운 행의 인덱스를 저장합니다.
//   let rowIndex = newRow.rowIndex;

//   // 추가된 행의 삭제 버튼에 인덱스를 저장합니다.
//   let deleteButton = cell3.querySelector("button");
//   deleteButton.setAttribute("data-row-index", rowIndex);



  

// }


function addRow() {
  let table = document.getElementById("myTable");

  // 마지막 행의 번호를 찾아서 새로운 행을 추가합니다.
  let lastRow = table.rows[table.rows.length - 1];
  let lastNumber = parseInt(lastRow.cells[0].textContent);
  let newRow = table.insertRow();
  let newNumber = lastNumber + 1;

  // 새로운 행의 첫 번째 열에 번호를 추가합니다.
  let newCell = newRow.insertCell(0);
  let newText = document.createTextNode(newNumber);
  newCell.appendChild(newText);
  
  // 새로운 행의 두 번째 열에 내용을 추가할 수 있습니다.
  // let newCell2 = newRow.insertCell(1);
  // let newText2 = document.createTextNode("New cell");
  // newCell2.appendChild(newText2);
}

// function deleteRow(btn) {
//   let table = document.getElementById("myTable");
//   let rowIndex = btn.getAttribute("data-row-index");

//   table.deleteRow(rowIndex);

//   // 삭제된 행 이후의 모든 행의 인덱스를 갱신합니다.
//   let rows = table.rows;
//   for (let i = rowIndex; i < rows.length; i++) {
//     let deleteButton = rows[i].querySelector("button");
//     let newIndex = i;
//     deleteButton.setAttribute("data-row-index", newIndex);
//   }
// }
function deleteRow(btn) {
  let table = document.getElementById("myTable");
  let rowIndex = btn.getAttribute("data-row-index");

  table.deleteRow(rowIndex);

  // 삭제된 행 이후의 모든 행의 인덱스를 갱신합니다.
  let rows = table.rows;
  for (let i = rowIndex; i < rows.length; i++) {
    let deleteButton = rows[i].querySelector("button");
    let newIndex = i;
    deleteButton.setAttribute("data-row-index", newIndex);
  }
}

      </script>
</body>
</html>